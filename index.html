<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Clicker</title>
    <style>
        /* Existing styles */

        /* Scroll button styles */
        #skin-arrow {
            position: fixed;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem; /* Default size */
            cursor: pointer;
            z-index: 1000;
            user-select: none;
        }

        /* Mobile styles */
        @media (max-width: 768px) {
            #skin-arrow {
                font-size: 4rem; /* Increase size for mobile */
                padding: 10px; /* Add padding for better touch interaction */
            }
        }
    </style>
</head>
<body>
    <div class="upgrade" id="upgrade27">Buy Surface Miner (Cost: 10000000000 Emoji)</div>
    </div>
    <div id="cheat-form">
        <input type="text" id="cheat-input" placeholder="Enter cheat code" />
        <button id="cheat-button">Activate Cheat</button>
    </div>

    <div id="skin-arrow">➡️</div>
    <div id="emoji-skins">
        <div class="skin-option locked" data-skin="🌈💩" data-unlock="1000">🌈💩</div>
        <div class="skin-option locked" data-skin="⚫💩" data-unlock="10000">⚫💩</div>
        <div class="skin-option locked" data-skin="⚪💩" data-unlock="100000">⚪💩</div>
        <div class="skin-option locked" data-skin="🏅💩" data-unlock="1000000">🏅💩</div>
        <div class="skin-option locked" data-skin="🐶" data-unlock="10000000">🐶</div>
        <div class="skin-option locked" data-skin="🐱" data-unlock="100000000">🐱</div>
        <div class="skin-option locked" data-skin="🐭" data-unlock="1000000000">🐭</div>
        <div class="skin-option locked" data-skin="🐹" data-unlock="10000000000">🐹</div>
        <div class="skin-option locked" data-skin="🐰" data-unlock="100000000000">🐰</div>
    </div>

    <audio id="clickSound" src="https://www.myinstants.com/media/sounds/fart-01.mp3" preload="auto"></audio>
    
    <script>
        let emoji = 0;
        let emojiPerClick = 1;
        let autoClickerActive = false;
        const cheatCode = "dirtisalpha";
        const cheatAmount = 1000000000000000;
        const upgradeCosts = [10, 50, 100, 200, 500, 1000, 2000, 5000, 10000, 20000, 50000, 100000, 200000, 500000, 1000000, 2000000, 5000000, 10000000, 20000000, 50000000, 100000000, 200000000, 500000000, 1000000000, 2000000000, 5000000000, 10000000000];
        const upgradeIncreases = [1, 2, 3, 4, 5, 10, 15, 20, 25, 30, 40, 50, 60, 70, 80, 90, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650];
        
        const emojiDisplay = document.getElementById('score');
        const emojiButton = document.getElementById('dirt');
        const clickSound = document.getElementById('clickSound');
        const skinArrow = document.getElementById('skin-arrow');
        const emojiSkins = document.getElementById('emoji-skins');
        const cheatInput = document.getElementById('cheat-input');
        const cheatButton = document.getElementById('cheat-button');

        const skins = [
            '🌈💩',
            '⚫💩',
            '⚪💩',
            '🏅💩',
            '🐶',
            '🐱',
            '🐭',
            '🐹',
            '🐰'
        ];
        let currentSkinIndex = 0;

        function loadGame() {
            const savedData = JSON.parse(localStorage.getItem('emojiClickerGame'));
            if (savedData) {
                emoji = savedData.emoji;
                emojiPerClick = savedData.emojiPerClick;
                autoClickerActive = savedData.autoClickerActive;
                currentSkinIndex = savedData.currentSkinIndex || 0;
                emojiButton.innerText = skins[currentSkinIndex];
                if (autoClickerActive) {
                    activateAutoClicker();
                }
                updateDisplay();
            }
        }

        function saveGame() {
            const gameData = {
                emoji: emoji,
                emojiPerClick: emojiPerClick,
                autoClickerActive: autoClickerActive,
                currentSkinIndex: currentSkinIndex
            };
            localStorage.setItem('emojiClickerGame', JSON.stringify(gameData));
        }

        function autoSaveGame() {
            setInterval(saveGame, 5000);
        }

        emojiButton.addEventListener('click', () => {
            addEmoji(emojiPerClick);
            clickSound.play();
            triggerAnimation();
            createPopup(`You gained ${emojiPerClick} Emoji!`, emojiButton);
        });

        for (let i = 1; i <= 27; i++) {
            document.getElementById(`upgrade${i}`).addEventListener('click', () => buyUpgrade(i));
        }

        skinArrow.addEventListener('click', () => {
            if (emojiSkins.style.left === '0px') {
                emojiSkins.style.left = '-200px';
                skinArrow.style.left = '10px';
                skinArrow.style.transform = 'translateY(-50%)';
            } else {
                emojiSkins.style.left = '0px';
                skinArrow.style.left = '210px';
                skinArrow.style.transform = 'translateY(-50%) rotate(180deg)';
            }
        });

        skins.forEach((skin, index) => {
            const skinOption = document.createElement('div');
            skinOption.classList.add('skin-option');
            skinOption.innerText = skin;
            skinOption.addEventListener('click', () => {
                if (!skinOption.classList.contains('locked')) {
                    currentSkinIndex = index;
                    emojiButton.innerText = skins[currentSkinIndex];
                    saveGame();
                    emojiSkins.style.left = '-200px';
                    skinArrow.style.left = '10px';
                    skinArrow.style.transform = 'translateY(-50%)';
                }
            });
            emojiSkins.appendChild(skinOption);
        });

        function addEmoji(amount) {
            emoji += amount;
            updateDisplay();
            saveGame();
            if (emoji >= 100000 && !autoClickerActive) {
                activateAutoClicker();
            }
            unlockSkins();
        }

        function buyUpgrade(upgradeNumber) {
            const cost = upgradeCosts[upgradeNumber - 1];
            const increase = upgradeIncreases[upgradeNumber - 1];
            if (emoji >= cost) {
                emoji -= cost;
                emojiPerClick += increase;
                upgradeCosts[upgradeNumber - 1] *= 2;
                updateDisplay();
                document.getElementById(`upgrade${upgradeNumber}`).innerText = document.getElementById(`upgrade${upgradeNumber}`).innerText.replace(/\(Cost: \d+ Emoji\)/, `(Cost: ${upgradeCosts[upgradeNumber - 1]} Emoji)`);
                createPopup(`+${increase} Emoji Per Click`, document.getElementById(`upgrade${upgradeNumber}`));
                saveGame();
            }
        }

        function updateDisplay() {
            emojiDisplay.innerText = `Emoji Collected: ${emoji}`;
        }

        function triggerAnimation() {
            emojiButton.classList.add('pulse');
            setTimeout(() => {
                emojiButton.classList.remove('pulse');
            }, 500);
        }

        function createPopup(text, element) {
            const popup = document.createElement('div');
            popup.classList.add('popup');
            popup.innerText = text;
            document.body.appendChild(popup);
            const rect = element.getBoundingClientRect();
            popup.style.left = `${rect.left + window.scrollX}px`;
            popup.style.top = `${rect.top + window.scrollY}px`;
            setTimeout(() => {
                popup.remove();
            }, 1000);
        }

        function unlockSkins() {
            document.querySelectorAll('.skin-option.locked').forEach((element) => {
                if (emoji >= parseInt(element.dataset.unlock)) {
                    element.classList.remove('locked');
                    element.innerText = element.dataset.skin;
                }
            });
        }

        function activateAutoClicker() {
            autoClickerActive = true;
            setInterval(() => addEmoji(emojiPerClick), 1000);
        }

        cheatButton.addEventListener('click', () => {
            const enteredCode = cheatInput.value.trim().toLowerCase();
            if (enteredCode === cheatCode) {
                addEmoji(cheatAmount);
                createPopup('Cheat Activated: Infinite Emoji', document.body);
                cheatInput.value = '';
            } else {
                createPopup('Invalid Cheat Code', document.body);
            }
        });

        loadGame();
        autoSaveGame();
    </script>
</body>
</html>
